
Assume an Error record with multiple errorCode in err_rec_info. ex: '2001,2018'

When ErrorSummary query is run, gives us 2 rows(unnest()),
One with 2001
Other with 2018

From the UI, when errorCount is clicked for record with errorCode:2001, a rest call for errorSearch is made where errorCode is 2001,
but there is no data with just 2001 because the errorCode was actually '2001,2018'

There are two ways to fix it: If error reason is not required which in our case isn't because for multiple errorCodes, error reason is null so both should work. But if error reason was required for individual error code, we would have to use updated query. and update
ON (L2.err_cd::text = info.err_list) -> ON (L2.err_cd::text = qry.err_cd)
1. Easier option. set eri.err_list Like '%sErrorCode%s' instead of eri.err_list = ErrorCode. We went with this.
2. update the query  as follows:
	Existing:
	 select distinct date, info.err_roe_id, info.actn_type actionType, erd.firm_roe_id, info.err_list as err_cd, info.err_type, L2.err_ds as err_rsn, info.rprd_smry, info.cat_rprtr_org_id, info.cat_rprtr_imid, info.cat_sbmtr_id,  erd.sym, erd.event_ts,  erd.seq_nb,  erd.qty,  erd.sndr_imid, erd.odr_id, erd.odr_key_dt, erd.trd_id , erd.trd_key_dt , erd.flmnt_id , erd.fill_key_dt , erd.quote_id , erd.quote_key_dt , erd.optn_id , erd.msg_type eventType, erd.rcvr_imid , erd.dstnt, erd.rtd_odr_id , erd.sssn , erd.tape_trd_id , erd.prnt_odr_id , erd.prnt_odr_key_dt , erd.prior_odr_id , erd.prior_odr_key_dt , erd.prior_flmnt_id , erd.prior_fill_key_dt , erd.prior_quote_id , erd.prior_quote_key_dt, info.rpr_ts , info.rpr_user_id , info.rpr_type_cd , info.crctn_due_ts, info.file_nm, info.grp_rpr_fl from (SELECT eri.prcsg_dt date, eri.err_roe_id err_roe_id, eri.cat_rprtr_org_id cat_rprtr_org_id, eri.actn_type, eri.cat_rprtr_imid cat_rprtr_imid, eri.cat_sbmtr_id cat_sbmtr_id, eri.prdct_type prdct_type, eri.rpr_ts rpr_ts, eri.rpr_user_id rpr_user_id, eri.rpr_type_cd rpr_type_cd, eri.crctn_due_ts crctn_due_ts, eri.file_nm file_nm, case when position(',' in trim(eri.err_list)) > 0 then null else eri.err_list end as err_list, case when eri.rprd_st = 'R' then 'R' when eri.rprd_st = 'U' and pnd.err_roe_id is null then 'U' else pnd.rprd_st end as rprd_smry, case when eri.rprd_st = 'R' then 'N' WHEN eri.rprd_st = 'U'  AND pnd.err_roe_id IS NULL AND eri.grp_rpr_elgbl = 'Y' THEN 'Y' else 'N'  end  as grp_rpr_fl,  eri.err_type err_type FROM catco_owner.err_rec_info eri LEFT JOIN (select err_roe_id, max(rprd_st) as rprd_st from catdd_owner.pndng_rec where err_roe_id is not null group by err_roe_id) pnd ON ( eri.err_roe_id = pnd.err_roe_id ) WHERE  eri.cat_rprtr_org_id=79 AND eri.prcsg_dt = '2020-01-23'  AND eri.cat_rprtr_imid = 'DELL0'  AND eri.err_list like '%2001%'  AND eri.err_type = 'Rejection'  )info JOIN catco_owner.err_rec_dtl erd ON (info.err_roe_id = erd.err_roe_id) LEFT JOIN catdd_owner.err_cd_lk L2 ON (L2.err_cd::text = info.err_list)  WHERE  info.rprd_smry = 'R' AND  grp_rpr_fl = 'N'  ORDER BY date, info.cat_rprtr_imid, info.cat_sbmtr_id, info.rprd_smry, info.grp_rpr_fl, info.err_type, info.err_list

	UPDATED:
	 select distinct date, info.err_roe_id, info.actn_type actionType, erd.firm_roe_id, info.err_list as err_cd, info.err_type, L2.err_ds as err_rsn, info.rprd_smry, info.cat_rprtr_org_id, info.cat_rprtr_imid, info.cat_sbmtr_id,  erd.sym, erd.event_ts,  erd.seq_nb,  erd.qty,  erd.sndr_imid, erd.odr_id, erd.odr_key_dt, erd.trd_id , erd.trd_key_dt , erd.flmnt_id , erd.fill_key_dt , erd.quote_id , erd.quote_key_dt , erd.optn_id , erd.msg_type eventType, erd.rcvr_imid , erd.dstnt, erd.rtd_odr_id , erd.sssn , erd.tape_trd_id , erd.prnt_odr_id , erd.prnt_odr_key_dt , erd.prior_odr_id , erd.prior_odr_key_dt , erd.prior_flmnt_id , erd.prior_fill_key_dt , erd.prior_quote_id , erd.prior_quote_key_dt, info.rpr_ts , info.rpr_user_id , info.rpr_type_cd , info.crctn_due_ts, info.file_nm, info.grp_rpr_fl from ( Select * from (SELECT eri.prcsg_dt date, eri.err_roe_id err_roe_id, eri.cat_rprtr_org_id cat_rprtr_org_id, eri.actn_type, eri.cat_rprtr_imid cat_rprtr_imid, eri.cat_sbmtr_id cat_sbmtr_id, eri.prdct_type prdct_type, eri.rpr_ts rpr_ts, eri.rpr_user_id rpr_user_id, eri.rpr_type_cd rpr_type_cd, eri.crctn_due_ts crctn_due_ts, eri.file_nm file_nm,
	 trim (unnest(regexp_split_to_array(eri.err_list, ',')))::int err_cd, case when position(',' in trim(eri.err_list)) > 0 then null else eri.err_list end as err_list, case when eri.rprd_st = 'R' then 'R' when eri.rprd_st = 'U' and pnd.err_roe_id is null then 'U' else pnd.rprd_st end as rprd_smry, case when eri.rprd_st = 'R' then 'N' WHEN eri.rprd_st = 'U'  AND pnd.err_roe_id IS NULL AND eri.grp_rpr_elgbl = 'Y' THEN 'Y' else 'N'  end  as grp_rpr_fl,  eri.err_type err_type FROM catco_owner.err_rec_info eri LEFT JOIN (select err_roe_id, max(rprd_st) as rprd_st from catdd_owner.pndng_rec where err_roe_id is not null group by err_roe_id) pnd ON ( eri.err_roe_id = pnd.err_roe_id ) WHERE  eri.cat_rprtr_org_id=79 AND eri.prcsg_dt = '2020-01-23'  AND eri.cat_rprtr_imid = 'DELL0'   AND eri.err_type = 'Rejection'  ) qry where err_cd = '2001')info JOIN catco_owner.err_rec_dtl erd ON (info.err_roe_id = erd.err_roe_id) LEFT JOIN catdd_owner.err_cd_lk L2 ON (L2.err_cd::text = info.err_list)  WHERE  info.rprd_smry = 'R' AND  grp_rpr_fl = 'N'  ORDER BY date, info.cat_rprtr_imid, info.cat_sbmtr_id, info.rprd_smry, info.grp_rpr_fl, info.err_type, info.err_list



